(this["webpackJsonppt-weather"]=this["webpackJsonppt-weather"]||[]).push([[0],{1672:function(e,t,c){},1674:function(e,t,c){},1675:function(e,t,c){},1676:function(e,t,c){},1677:function(e,t,c){},1678:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),a=c(9),r=c.n(a),i=c(4),o=c(3),l=c.n(o),d=c(5),p=c(6),u=(c(1672),c(8),c(1)),m=function(e){var t=e.optionList,c=e.placeholder,s=e.selectedItem,a=e.setSelectedItem,r=Object(n.useState)(!1),o=Object(i.a)(r,2),l=o[0],d=o[1],m=Object(n.useState)(c),h=Object(i.a)(m,2),f=h[0],j=h[1];return Object(u.jsxs)("div",{className:"dd-wrapper",children:[Object(u.jsxs)("button",{className:"dd-header dd-btn ".concat(l&&"dd-header-open"),onClick:function(){return d(!l)},children:[Object(u.jsx)("div",{className:"dd-header-title",children:f}),Object(u.jsx)("div",{className:"dd-header-arrow",children:l?Object(u.jsx)(p.AngleUpIcon,{className:"la-lg"}):Object(u.jsx)(p.AngleDownIcon,{className:"la-lg"})})]}),l&&Object(u.jsx)("div",{className:"dd-open-separator",children:Object(u.jsx)("hr",{className:"dd-hr"})}),l&&Object(u.jsx)("div",{className:"dd-list ".concat(l&&"dd-list-open"),role:"list",children:t.map((function(e){return Object(u.jsxs)("button",{className:"dd-list-item dd-btn",onClick:function(){a(e.id),j(e.label)},children:[Object(u.jsx)("div",{className:"dd-list-item-label",children:e.label}),Object(u.jsx)("div",{className:"dd-list-item-check",children:s===e.id&&Object(u.jsx)(p.CheckIcon,{className:"la-sm"})})]},e.id)}))})]})},h=function(e){var t=e.selectedDistrict,c=e.setSelectedDistrict,s=Object(n.useState)([]),a=Object(i.a)(s,2),r=a[0],o=a[1],p=function(){var e=Object(d.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.ipma.pt/open-data/distrits-islands.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(m,{placeholder:"No district selected",optionList:r.map((function(e){return{id:e.globalIdLocal,label:e.local}})),selectedItem:t,setSelectedItem:c})})},f=(c(1674),function(e){var t=e.selectedDistrict,c=e.setSelectedDistrict;return Object(u.jsxs)("header",{children:[Object(u.jsx)("div",{className:"left-side",children:Object(u.jsx)("h1",{id:"website-name",children:"Portugal Weather"})}),Object(u.jsx)("div",{className:"right-side",children:Object(u.jsx)(h,{class:"dropdown",selectedDistrict:t,setSelectedDistrict:c})})]})}),j=(c(1675),new Map([[1,"https://img.icons8.com/fluency/156/000000/sun.png"],[2,"https://img.icons8.com/fluency/156/000000/partly-cloudy-day.png"],[3,"https://img.icons8.com/fluency/156/000000/cloud.png"],[4,"https://img.icons8.com/fluency/156/000000/clouds.png"],[5,"https://img.icons8.com/fluency/156/000000/clouds.png"],[6,"https://img.icons8.com/fluency/156/000000/rain.png"],[7,"https://img.icons8.com/fluency/156/000000/light-rain.png"],[8,"https://img.icons8.com/fluency/156/000000/intense-rain.png"],[9,"https://img.icons8.com/fluency/156/000000/rain.png"],[10,"https://img.icons8.com/fluency/156/000000/light-rain.png"],[11,"https://img.icons8.com/fluency/156/000000/intense-rain.png"],[12,"https://img.icons8.com/fluency/156/000000/rain.png"],[13,"https://img.icons8.com/fluency/156/000000/light-rain.png"],[14,"https://img.icons8.com/fluency/156/000000/intense-rain.png"],[15,"https://img.icons8.com/fluency/156/000000/light-rain-2.png"],[16,"https://img.icons8.com/fluency/156/000000/foggy-night-1.png"],[17,"https://img.icons8.com/fluency/156/000000/foggy-night-1.png"],[18,"https://img.icons8.com/fluency/156/000000/snow.png"],[19,"https://img.icons8.com/fluency/156/000000/cloud-lighting.png"],[20,"https://img.icons8.com/fluency/156/000000/storm.png"],[21,"https://img.icons8.com/fluency/156/000000/hail.png"],[22,"https://img.icons8.com/fluency/156/000000/winter.png"],[23,"https://img.icons8.com/fluency/156/000000/storm.png"],[24,"https://img.icons8.com/fluency/156/000000/clouds.png"],[25,"https://img.icons8.com/fluency/156/000000/clouds.png"],[26,"https://img.icons8.com/fluency/156/000000/foggy-night-1.png"],[27,"https://img.icons8.com/fluency/156/000000/clouds.png"]])),g=function(e){var t=e.weatherTypeID,c=e.minTemp,s=e.maxTemp,a=e.forecastDate,r=Object(n.useState)(new Map),o=Object(i.a)(r,2),p=o[0],m=o[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.ipma.pt/open-data/weather-type-classe.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(function(){var t=Object(d.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=new Map,t.next=3,e();case 3:t.sent.data.forEach((function(e){c.set(e.idWeatherType,{descIdWeatherTypeEN:e.descIdWeatherTypeEN,descIdWeatherTypePT:e.descIdWeatherTypePT})})),m(c);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(u.jsxs)("div",{className:"forecast-container",children:[Object(u.jsx)("div",{className:"forecast-date-container",children:Object(u.jsx)("div",{className:"forecast-date",children:a})}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"forecast-weather-type-container",children:[Object(u.jsx)("div",{className:"forecast-weather-type-img forecast-weather-type-content",children:Object(u.jsx)("img",{src:j.get(t),alt:0!==p.size?p.get(t).descIdWeatherTypePT:"Placeholder"})}),Object(u.jsx)("div",{className:"forecast-weather-type-desc forecast-weather-type-content",children:Object(u.jsx)("p",{children:0!==p.size?p.get(t).descIdWeatherTypePT:"Loading..."})})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"forecast-temp-container",children:[Object(u.jsx)("div",{className:"forecast-temp-min-container",children:Object(u.jsxs)("p",{className:"forecast-temp-min",children:["Min: ",c,"\xbaC"]})}),Object(u.jsx)("div",{className:"forecast-temp-max-container",children:Object(u.jsxs)("p",{className:"forecast-temp-max",children:["Max: ",s,"\xbaC"]})})]})]})},b=(c(1676),function(e){var t=e.selectedDistrict,c=Object(n.useState)([]),s=Object(i.a)(c,2),a=s[0],r=s[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(l.a.mark((function e(){var c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.ipma.pt/open-data/forecast/meteorology/cities/daily/".concat(t,".json"));case 2:return c=e.sent,e.next=5,c.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();-1!==t&&function(){var t=Object(d.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:c=t.sent,r(c.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[t]),Object(u.jsx)("ul",{className:"forecast-collection-container",children:-1!==t&&a.map((function(e){return Object(u.jsx)("li",{className:"forecast-collection-item",children:Object(u.jsx)(g,{className:"forecast-collection-element",weatherTypeID:e.idWeatherType,minTemp:e.tMin,maxTemp:e.tMax,forecastDate:e.forecastDate.split("-").reverse().join("/")})},e.forecastDate)}))})}),x=(c(1677),function(e){var t=e.selectedDistrict;return Object(u.jsx)("div",{className:"forecast-body",children:Object(u.jsx)(b,{selectedDistrict:t})})});var O=function(){var e=Object(n.useState)(-1),t=Object(i.a)(e,2),c=t[0],s=t[1];return Object(u.jsxs)("div",{id:"app-container",children:[Object(u.jsx)(f,{selectedDistrict:c,setSelectedDistrict:s}),Object(u.jsx)(x,{selectedDistrict:c})]})},y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,1679)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(O,{})}),document.getElementById("root")),y()},8:function(e,t,c){}},[[1678,1,2]]]);
//# sourceMappingURL=main.0b1dc3ab.chunk.js.map